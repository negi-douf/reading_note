# chapter_5: Tech Organization Dynamics and Architecture

## 何が技術組織の "生産性" を下げるのか

「生産性」ということばは組織の効率について論ずるのに適さない

- 定義があいまい
- 「従業員が一定期間に創出した付加価値額」だとおいても、事業との相性が悪い  
  ソフトウェアだと特に、仕込みの時期と回収の時期が明確に分かれてしまう

なので、「情報処理能力」に置き換えてみる  
簡単にいうと、仮説検証を効率よくおこなう能力

市場のもつ「情報処理必要量」に対し、組織の「情報処理能力」で対抗する  
情報処理能力は方法不確実性と通信不確実性への対処のしかたで決まる

人数と情報処理能力は比例せず、組織の規模が大きくなりすぎるとむしろ下がる  
なぜなら調整コストによるロスが大きくなっていくから

ソフトウェアの世界には、コンウェイの法則というものがある

> システムを設計する組織は、その構造をそっくりまねた構造の設計を生み出してしまう  

組織階層が深いとき、関係者が多いとき、メンバーの離職率が高いとき...こういった条件があるとバグの混入率が上がることが知られている  
これが起こるのはなぜなのか？

基本的に、エンジニアのいる開発チームは組織の下流工程に位置しやすい  
そのため、 **何重にも積もったエージェンシースラックの不合理が発露される場所になる** ことが多い

コミュニケーションコストは組織体形によって決まる  
開発者は意識的かどうかによらず、そのコストを避けて開発を進める  
その積み重ねがソフトウェアに表れ、場合によってはバグにつながってしまう

情報の非対称性がある組織間で、依頼者と代理人の関係になってしまったとき、大きなエージェンシースラックが生まれる  
これを予防するために、組織のコミュニケーション体系をうまく設計する必要がある  
そのうえで、各人が認知の歪みを自認して内省し、メンバー間でもメンタリングをおこない、チームとしては不確実性をマネジメントし...という姿勢で臨むべきといえる

逆に、組織をうまく作れたなら仮説検証は加速される  
(「いい組織ならソフトウェアの品質も上がる！」という理論に基づいて組織を作る方策として、逆コンウェイ戦略というのがあった気がする)

## 技術的負債の正体

古くなってしまったコードやわかりにくいコードなどを技術的負債とよぶことがある  
経営層の思い描く工数とエンジニアの認識する工数の差が大きいとき、エンジニアがそれを説明するときに使ったりする  
しかし、負債というと経営層からすると悪い意味だけではない  
利子率が低ければいいし、場合によっては高くても一時的な馬力を優先することもある  
それゆえ、このままではむしろ経営層とエンジニアとのコミュニケーションに悪影響が出るかもしれない

開発速度の低下がなぜ引き起こされるのかというと、開発を続けていると変更しにくいところが出てくるから  
「技術的負債」ということばからこれを連想するのが難しく、経営層はうまく掴めないのだろう

マーティン・ファウラーは技術的負債を 4象限に分けた  
「意図的か無意識か」「無鉄砲か慎重か」  
意図的で慎重であれば開発速度を上げられるのかというと、そうでもない  
「クイック&ダーティに作る」ということばがあるが、速さと綺麗さはトレードオフとはいいがたい  
そもそも素早く綺麗に作れる人もいるし、市場は変化するから、綺麗さと速さを選択するような器用な真似はできないと思われる

一方、フィリップ・クルーシュテンは「見えるか見えないか」「プラスかマイナスか」の 4象限を使って技術的負債を表した  
技術的負債は見えないマイナスとして表現された  
実際、これを感じ取れるのはシステムの中を理解できるエンジニアのみである  
つまり、ここに **経営層とエンジニアの情報の非対称性がある**

また、クラウス・シュミットは技術的負債を数式で表現した  
「理想のシステムに機能を追加したときの工数」と「現実のシステムに機能を追加したときの工数」との差を求め、それを技術的負債とした  
負債の中身はともかく、非エンジニアにも表面的に理解できるモデリング  
ただし、理想のシステムでかかる工数を見積もれるようにしなければならない

技術的負債ということばは、本来はエンジニアが経営層と意思疎通するために用いられたものだが、情報の非対称性によってうまくいっていない

- 今後、開発していきたい機能を知っているか知らないか
- アーキテクチャを知っているか知らないか

つまり、これらの不透明を解消すれば、うまく意思疎通ができると思われる  
以下のような方法で、「エンジニアのみが知っていること」と「経営層のみが知っていること」を可視化する  

- アーキテクチャの複雑性
  - 循環的複雑度の可視化
  - 依存関係の分析
  - コードチャーンの分析
- 将来要件の不確実性
  - 非機能要件の具体化
  - 仮説・戦略の透明化
  - ユビキタス言語の作成 (用語の定義)

## 取引コストと技術組織

経済取引 (あるリソースを市場から手に入れること) によってかかるコストを「取引コスト」とよぶ

- 探索のコスト: 取引相手を見つけるためのコスト
- 交渉のコスト: 相手と交渉するためのコスト
- 監督のコスト: 相手が契約を履行するよう監督するためのコスト

あるリソースを内部で入手できるよう構築するコストを「内部化コスト」とよぶ  
取引コストが大きいものは内部で手に入れ、逆なら外部から手に入れる  
これが企業の境界線を作る

企業のコアコンピタンスを外部に依存している状態を「ホールドアップ問題」とよぶ

機能別組織にすると「知の深化」は促進されるが、組織間の取引コストが増大する  
機能横断組織にすると「知の探索」が促進される  
ある事業の勝ち筋が見えてくると、知の深化に移りがち  
こうなるとイノベーションが起きにくくなってしまうため、注意が必要 (コンピテンシートラップ)  
バランスを見極める必要がある

## 目標管理と透明性

多くの企業で、目標管理をベースとしたマネジメントが取り入れられている  
これは「従業員の創造性を向上させる」「人間の尊厳を重視する」といった思想が始まりだった  
目標は自発的なものにすべきで、ただのノルマにしてはならない  
(目標管理も評価制度も当人のマインドセットで 180度変わるってことだね)

近年、OKR (Objectives and Key Results) が注目を浴びている  
目標と、その達成度合いを観測するための指標を 3つほど挙げるというもの  
上位の目標が下位の組織に引き継がれるようになっており、目標に限定合理性が生まれるのを防ぐ効果がある  
これを適切に機能させるためにも、組織の透明性が重要となる
