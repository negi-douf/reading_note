# chapter_4: Reset and clock circuit

## リセットとスイッチ

クロックは Hと Lを高速で繰り返している  
仮に手動クロックとしてトグルスイッチを使ったとする  
すると、切り替えの間に Hにも Lにもなっていないオープンな瞬間が存在する  
その場合、環境要因で Hにも Lにもなってしまう

これを防ぐため、クロック信号を抵抗を介して固定の電圧に繋いでおくことがある  
こうすると、オープンな状態でも固定の電圧に留めておくことができる  
これをプルアップとよぶ

ただ、スイッチの問題がこれで全て解決するわけではない  
スイッチの内部では金属同士がぶつかることになるので、バウンドが発生する  
すると、一瞬のうちに Hと Lをまた行き来してしまう  
このバウンドをチャタリングとよぶ

これを防ぐため、回路の応答速度をあえて遅くしている  
キーボードも同じようなもので、一度の押下で 1文字が入力されるように調整しているはず  

電気回路でこれを実現するにはコンデンサを使う  
スイッチを ONにしたとき、コンデンサに充電されるため、電圧はゆっくりと上がる  
放電するときも同じ  
これでチャタリングの問題を解決できる

しかし、ゆっくりにすればいいというわけでもない  
基本的に、信号には Hと Lの 2種類しか存在してほしくない  
閾値ぴったりの値とかがくると、動作がばたついてしまうかも  

これにはシュミットトリガを使って対応する  
中途半端な信号を Hと Lにきれいに切り替えることができる

### リセット回路

コンピュータにおけるリセット回路の役割は主に 3つ

- 回路を初期状態に戻す  
基準の電圧が安定する
- クロックが始まるまで待機する
- CPUのアドレスを 0に戻す

多くのコンピュータでは、電源を押したらこの回路も起動するようになっているもよう
