# Adapter

- 間を取り持つもの  
すでに提供されているものを必要なものに変換する。
- Wrapperパターンとよばれることも
- 2種類ある
  - 継承を使ったもの
  - 委譲を使ったもの

## 継承を使ったもの

実装のモチベーション、流れは以下の通り。

1. とあるクラスAが提供されている
2. 自分の欲しい処理はインタフェースBで定義されている
3. クラスAにはすでに欲しい処理に近い関数が実装されているが、インタフェースBに準じた名前で呼びたい
4. そこで、クラスAを継承しつつインタフェースBを実装した新たなクラスCを定義する
5. これで、既存の処理を流用しつつ好きな使い方ができる

## 委譲を使ったもの

継承を使ったものでは、自分の欲しい処理がインタフェースBで定義されていた。  
しかし、委譲を使ったものではそれが抽象クラスBとして定義されている。  
その場合、言語によっては同時に複数のクラスを継承することはできないため、継承とは違う方法で解決しなければならない。  

そこで、継承ではなくインスタンスを保持し利用することで解決する。

1. とあるクラスAが提供されている
2. 自分の欲しい処理は抽象クラスBで定義されている
3. クラスAにはすでに欲しい処理に近い関数が実装されているが、クラスBに準じた名前で呼びたい
4. そこで、クラスBを継承しつつ中ではインスタンスAの処理を呼び出すだけのクラスを定義し、それをクラスCとする
5. これで、既存の処理を流用しつつ好きな使い方ができる

## Adapterのまとめ

- 登場人物
  - Target: いま必要なメソッドを定めるもの
  - Client: Targetの処理を必要とするもの
  - Adapter: 既存の処理を Targetに適合させるもの
  - Adaptee: Adapterによって調整されるもの
- どんないいことがある？
  - すでに実装したものを転用することができる
    - テストされた部分を変更することなく使える
    - バグが出たとしても、Adapter側に問題があることが自明である
  - 互換性をもたせるのに有用
  - 動くコードがなくとも入出力の仕様だけで実装を進めることができる
